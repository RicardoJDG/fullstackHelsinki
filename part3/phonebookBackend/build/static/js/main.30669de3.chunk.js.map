{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/people.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","onChange","PersonForm","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","Persons","handleDelete","peopleToShow","map","person","name","number","onClick","id","baseUrl","people","getAll","axios","get","then","response","data","create","newPerson","post","update","put","deletePerson","delete","Notification","message","status","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","setStatus","useEffect","toLowerCase","includes","e","target","value","preventDefault","personFound","find","window","confirm","setTimeout","catch","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30669de3.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ onChange }) => {\n  return (\n    <div>\n      filter shown with: <input onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({ handleNameChange, handleNumberChange, handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ handleDelete, peopleToShow }) => {\n  return (\n    <div>\n      {peopleToShow.map((person) => {\n        return (\n          <p key={person.id}>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person.id)}>Delete</button>\n          </p>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst people = { getAll, create, update, deletePerson };\n\nexport default people;\n","import React from 'react';\n\nconst Notification = ({ message, status }) => {\n  return message ? <div className={status}>{message}</div> : null;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport people from './services/people';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState();\n  const [filter, setFilter] = useState();\n  const [message, setMessage] = useState();\n  const [status, setStatus] = useState();\n\n  useEffect(() => {\n    people.getAll().then((response) => setPersons(response));\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const personFound = persons.find((person) => person.name === newName);\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    if (persons.find((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${personFound.name} is already added to the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        people\n          .update(personFound.id, newPerson)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== personFound.id ? person : response\n              )\n            );\n            setMessage(`${personFound.name} has been succesfully updated`);\n            setStatus('success');\n            setTimeout(() => {\n              setMessage(null);\n              setStatus(null);\n            }, 5000);\n          })\n          .catch((err) => {\n            setMessage(\n              `${personFound.name} has already been removed from the server`\n            );\n            setStatus('error');\n            setTimeout(() => {\n              setMessage(null);\n              setStatus(null);\n            }, 5000);\n          });\n      }\n    } else {\n      people.create(newPerson).then((response) => {\n        setPersons([...response]);\n        setMessage(`${newPerson.name} has been succesfully added`);\n        setStatus('success');\n        setTimeout(() => {\n          setMessage(null);\n          setStatus(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const handleDelete = (id) => {\n    const name = persons.find((person) => person.id === id);\n    if (window.confirm(`Delete ${name.name}?`)) {\n      people.deletePerson(id);\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const peopleToShow = filter\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} status={status} />\n      <Filter onChange={(e) => setFilter(e.target.value)} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleNameChange={(e) => setNewName(e.target.value)}\n        handleNumberChange={(e) => setNewNumber(e.target.value)}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons peopleToShow={peopleToShow} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}